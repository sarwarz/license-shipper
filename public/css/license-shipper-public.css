/**
 * LicenseShipper – Public styles
 * Tip: change --ls-brand to re-theme quickly.
 */

/* ===========================
   0) Theme variables
   =========================== */
:root{
  /* Main brand (edit this to theme) */
  --ls-brand:   #4f46e5; /* main brand */
  --ls-brand-1: #6366f1; /* brand gradient mate */

  /* Accent families used in UI */
  --ls-blue-600:    #2563eb;
  --ls-blue-500:    #3b82f6;
  --ls-emerald-600: #059669;
  --ls-emerald-500: #10b981;
  --ls-amber-500:   #f59e0b;
  --ls-amber-400:   #fbbf24;

  /* Neutrals */
  --ls-gray-900: #111827;
  --ls-gray-700: #374151;
  --ls-gray-600: #4b5563;
  --ls-gray-500: #6b7280;
  --ls-gray-300: #d1d5db;
  --ls-gray-200: #e5e7eb;
  --ls-gray-100: #f3f4f6;
  --ls-white:    #ffffff;

  /* Surfaces / borders / rings */
  --ls-surface:  #ffffff;
  --ls-border:   #e5e7eb;
  --ls-ring:     rgba(99,102,241,.55); /* indigo glow */

  /* Code block (Dracula-ish) */
  --ls-code-bg:     #1e1e2e;
  --ls-code-fg:     #cdd6f4;
  --ls-code-border: #313244;
  --ls-code-accent: #89b4fa;
}

/* ===========================
   1) Utilities & notices
   =========================== */
.ls-hidden-row { display:none; }

.ls-custom-notice{
  margin:15px 0;
  padding:12px 15px;
  border-left:4px solid #dc3232;
  background:#fff0f0;
  color:#a00;
  font-size:15px;
  border-radius:3px;
  box-shadow:0 0 3px rgba(0,0,0,.05);
  text-align: start;
}
.ls-custom-notice p{ margin:0; }

/* ===========================
   2) Wrappers, headings
   =========================== */
.ls-my-keys-wrap{ --gap:16px; }
.ls-title{ margin-bottom:4px; }
.ls-subtitle{ color:var(--ls-gray-600); margin:0 0 16px; }

/* ===========================
   3) Cards (mobile-first)
   =========================== */
.ls-grid-cards{
  display:grid;
  grid-template-columns:repeat(2, minmax(0,1fr)); /* 2 columns on mobile */
  gap:12px;
}
@media (max-width:360px){
  .ls-grid-cards{ grid-template-columns:1fr; }   /* very small phones */
}
.ls-card{
  border:1px solid var(--ls-border);
  border-radius:12px;
  overflow:hidden;
  background:var(--ls-surface);
}
.ls-card__media{
  aspect-ratio:4/3;
  overflow:hidden;
}
.ls-card__media img{
  width:100%; height:100%; object-fit:cover;
}
.ls-card__body{ padding:12px; }
.ls-card__title{
  font-size:14px; line-height:1.4; font-weight:600; margin-bottom:8px;
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; line-clamp:2;
  overflow:hidden; text-overflow:ellipsis; overflow-wrap:anywhere;
  max-height:calc(1.4em * 2);
}
.ls-card__meta{ display:flex; gap:8px; margin-bottom:10px; }
.ls-chip{ font-size:12px; background:var(--ls-gray-100); border-radius:999px; padding:2px 8px; }

.ls-card__actions{ display:flex; gap:8px; }
.ls-card__actions .ls-btn-view-key,
.ls-card__actions .ls-btn-get-key{ width:100%; text-align:center; }

/* ===========================
   4) Table (desktop)
   =========================== */
.ls-table-wrap{ display:none; margin-top:16px; }
.ls-table th, .ls-table td{ vertical-align:middle; }
.ls-actions .button{ margin-right:6px; }
.ls-license-row td{ padding:15px !important; }

/* Responsive switch */
@media (min-width:768px){
  .ls-grid-cards{ display:none; }
  .ls-table-wrap{ display:block; }
}

/* ===========================
   5) Pagination
   =========================== */
.ls-pagination{
  display:flex; flex-wrap:wrap; gap:8px;
  align-items:center; justify-content:center;
  margin-top:18px; user-select:none;
}
.ls-pagination a{
  display:inline-flex; min-width:40px; height:40px; padding:0 12px;
  align-items:center; justify-content:center;
  border-radius:999px; border:1px solid var(--ls-border);
  background:var(--ls-surface); color:var(--ls-gray-900);
  font-weight:600; font-size:14px; text-decoration:none; line-height:1;
  transition:transform .15s, box-shadow .2s, border-color .2s, background .2s;
  box-shadow:0 2px 8px rgba(17,24,39,.04);
}
.ls-pagination a:hover{
  border-color:var(--ls-gray-300);
  transform:translateY(-1px);
  box-shadow:0 6px 14px rgba(17,24,39,.08);
}
.ls-pagination a.current,
.ls-pagination a[aria-current="page"]{
  background:linear-gradient(135deg, var(--ls-brand), var(--ls-brand-1));
  color:#fff; border-color:transparent;
  box-shadow:0 6px 16px rgba(99,102,241,.35);
}
.ls-pagination a.prev, .ls-pagination a.next{ padding:0 16px; }
.ls-pagination a:focus-visible{
  outline:none; box-shadow:0 0 0 2px #fff, 0 0 0 4px var(--ls-ring);
}
@media (max-width:480px){
  .ls-pagination a{ min-width:36px; height:38px; font-size:13px; }
}
.ls-table-wrap + .ls-pagination{ margin-top:14px; }

/* ===========================
   6) Buttons (shared system)
   =========================== */
.ls-header-buttons{ display:flex; gap:10px; flex-wrap:wrap; }
.ls-header-buttons .ls-export-all-btn,
.ls-header-buttons .ls-get-all-keys-btn{ white-space:nowrap; }

/* Base reset for <a> and <button> */
.ls-export-all-btn,
.ls-get-all-keys-btn,
.ls-btn-get-key,
.ls-btn-view-key,
.ls-copy-license-btn,
.ls-show-more-btn,
.ls-show-less-btn,
a.ls-btn-download,
a.ls-btn-guide,
button.ls-btn-guide{
  -webkit-appearance:none; appearance:none;
  border:1px solid transparent; border-radius: 0px;
  display:inline-flex; align-items:center; gap:10px;
  padding:10px 14px; font-weight:700; font-size:14px; line-height:1;
  text-decoration:none !important; cursor:pointer;
  transition:transform .15s, box-shadow .2s, filter .2s, background .2s, border-color .2s, color .2s;
  box-shadow:0 2px 8px rgba(17,24,39,.06);
}
.ls-export-all-btn:focus-visible,
.ls-get-all-keys-btn:focus-visible,
.ls-btn-get-key:focus-visible,
.ls-btn-view-key:focus-visible,
.ls-copy-license-btn:focus-visible,
.ls-show-more-btn:focus-visible,
.ls-show-less-btn:focus-visible,
a.ls-btn-download:focus-visible,
a.ls-btn-guide:focus-visible,
button.ls-btn-guide:focus-visible{
  outline:none; box-shadow:0 0 0 2px #fff, 0 0 0 4px var(--ls-ring);
}
.ls-export-all-btn:disabled,
.ls-get-all-keys-btn:disabled,
.ls-btn-get-key:disabled,
.ls-btn-view-key:disabled,
.ls-copy-license-btn:disabled,
.ls-show-more-btn:disabled,
.ls-show-less-btn:disabled,
a.ls-btn-download[aria-disabled="true"],
a.ls-btn-guide[aria-disabled="true"],
button.ls-btn-guide:disabled{
  opacity:.6; cursor:not-allowed; transform:none !important; box-shadow:none !important;
}

/* Primary: Download All */
.ls-export-all-btn{
  background:linear-gradient(135deg, var(--ls-blue-600), var(--ls-blue-500));
  color:#fff; border-color:rgba(37,99,235,.15);
}
.ls-export-all-btn:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(37,99,235,.30); filter:brightness(1.03); }
.ls-export-all-btn:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(37,99,235,.22); }

/* Primary: Get All Keys (brand) */
.ls-get-all-keys-btn,
.ls-btn-get-key{
  background:linear-gradient(135deg, var(--ls-brand), var(--ls-brand-1));
  color:#fff; border-color:rgba(79,70,229,.18);
  box-shadow:0 4px 12px rgba(99,102,241,.30);
}
.ls-get-all-keys-btn:hover, .ls-btn-get-key:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 16px rgba(99,102,241,.40);
  filter:brightness(1.03);
}
.ls-get-all-keys-btn:active, .ls-btn-get-key:active{
  transform:translateY(0); box-shadow:0 3px 8px rgba(99,102,241,.25);
}
.ls-btn-get-key:disabled{ background:#a5b4fc; box-shadow:none; }

/* Success: View Keys */
.ls-btn-view-key{
  background:linear-gradient(135deg, var(--ls-emerald-600), var(--ls-emerald-500));
  color:#fff; border-color:rgba(16,185,129,.18);
  box-shadow:0 4px 12px rgba(16,185,129,.30);
  display:inline-flex; align-items:center; gap:8px;
}
.ls-btn-view-key:hover{ transform:translateY(-2px); box-shadow:0 6px 16px rgba(16,185,129,.40); }
.ls-btn-view-key:active{ transform:translateY(0); box-shadow:0 3px 8px rgba(16,185,129,.25); }
.ls-actions .ls-btn-view-key{ white-space:nowrap; }

/* Outline: Copy key */
.ls-copy-license-btn{
  background:#fff; color:var(--ls-gray-900); border-color:var(--ls-gray-200);
}
.ls-copy-license-btn:hover{
  border-color:var(--ls-brand-1);
  color:var(--ls-brand);
  transform:translateY(-1px);
  box-shadow:0 6px 14px rgba(17,24,39,.08);
}

/* Ghost: Show more/less */
.ls-show-more-btn, .ls-show-less-btn{
  background:#fff; color:var(--ls-gray-700); border-color:var(--ls-gray-200);
}
.ls-show-more-btn:hover, .ls-show-less-btn:hover{
  border-color:var(--ls-gray-300); color:var(--ls-gray-900);
  transform:translateY(-1px); box-shadow:0 6px 14px rgba(17,24,39,.06);
}

/* Table action buttons (software download / guide) */
a.ls-btn-download{
  background:linear-gradient(135deg, var(--ls-blue-600), var(--ls-blue-500));
  color:#fff; border-color:rgba(37,99,235,.15); white-space:nowrap;
}
a.ls-btn-download:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(37,99,235,.30); filter:brightness(1.03); }
a.ls-btn-download:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(37,99,235,.22); }

a.ls-btn-guide, button.ls-btn-guide{
  background:linear-gradient(135deg, var(--ls-amber-500), var(--ls-amber-400));
  color:var(--ls-gray-900); border-color:rgba(245,158,11,.18); white-space:nowrap;
}
a.ls-btn-guide:hover, button.ls-btn-guide:hover{
  transform:translateY(-1px); box-shadow:0 6px 16px rgba(245,158,11,.28); filter:brightness(1.02);
}
a.ls-btn-guide:active, button.ls-btn-guide:active{
  transform:translateY(0); box-shadow:0 3px 10px rgba(245,158,11,.22);
}

/* Stack action cell buttons on narrow screens */
@media (max-width:540px){
  .woocommerce-table.order_details td:last-child{
    display:grid; grid-template-columns:1fr; gap:8px;
  }
  .ls-toggle-license-btn, .ls-btn-view-key, .ls-btn-get-key, .ls-copy-license-btn{ width:100%; justify-content:center; }
  .woocommerce-table.order_details td a.ls-btn-download,
  .woocommerce-table.order_details td a.ls-btn-guide,
  .woocommerce-table.order_details td button.ls-btn-guide{
    width:100%; justify-content:center;
  }
}
@media (max-width:360px){
  .ls-export-all-btn, .ls-get-all-keys-btn, .ls-btn-view-key, .ls-btn-get-key,
  .ls-copy-license-btn, .ls-show-more-btn, .ls-show-less-btn,
  a.ls-btn-download, a.ls-btn-guide, button.ls-btn-guide{
    padding:9px 12px; border-radius:8px; font-size:13px; gap:8px;
  }
}

/* ===========================
   7) Simple overlay modal (fallback)
   =========================== */
.ls-key-modal[hidden]{ display:none !important; }
.ls-key-modal{
  position:fixed; inset:0; background:rgba(0,0,0,.45);
  display:flex; align-items:center; justify-content:center; z-index:9999;
}
.ls-key-modal__dialog{
  background:#fff; padding:16px; border-radius:12px; width:min(560px,92vw); position:relative;
}
.ls-key-modal__close{
  position:absolute; right:10px; top:8px; border:0; background:transparent; font-size:22px; cursor:pointer;
}
.ls-key-modal__content{
  background:#0b1020; color:#d1d5db; padding:12px; border-radius:8px; min-height:48px; max-height:300px; overflow:auto;
}

/* ===========================
   8) SweetAlert2 modal tuning
   =========================== */
/* Popup size */
.swal2-popup.ls-keys-modal{
  width:min(92vw,600px);
  padding:clamp(12px, 2.5vw, 24px);
}
.swal2-popup.ls-keys-modal .swal2-title{
  font-size:clamp(18px, 2.6vw, 22px);
}

/* Scrollable keys list */
.swal2-html-container .ls-keys-scroll{
  max-height:clamp(180px, 45vh, 420px);
  overflow:auto;
  margin:0 -4px 10px 0; padding-right:4px;
  border-radius:10px; background:#fafafa; border:1px solid #f3f4f6; margin-top:10px;
}
/* Scrollbars */
.swal2-html-container .ls-keys-scroll::-webkit-scrollbar{ width:8px; }
.swal2-html-container .ls-keys-scroll::-webkit-scrollbar-track{ background:transparent; }
.swal2-html-container .ls-keys-scroll::-webkit-scrollbar-thumb{ background:#d1d5db; border-radius:8px; }
.swal2-html-container .ls-keys-scroll:hover::-webkit-scrollbar-thumb{ background:#9ca3af; }
.swal2-html-container .ls-keys-scroll{ scrollbar-width:thin; scrollbar-color:#d1d5db transparent; }

/* List */
.swal2-html-container .ls-keys-list{
  list-style:none; margin:0; padding:10px;
  display:flex; flex-direction:column; gap:8px;
}
.swal2-html-container .ls-keys-item{
  display:grid; grid-template-columns:1fr auto; align-items:center; gap:8px;
}

/* Code block + copy icon (merged) */
.swal2-html-container .ls-key-block{ position:relative; }

.swal2-html-container .ls-key-code{
  display:block;
  padding:10px 44px 10px 10px;
  background:var(--ls-code-bg);
  color:var(--ls-code-fg);
  border:1px solid var(--ls-code-border);
  border-radius:10px;
  white-space:pre-wrap; word-break:break-all;
  font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size:13px; line-height:1.35;
  box-shadow:0 1px 0 rgba(255,255,255,.02) inset, 0 0 0 2px rgba(137,180,250,.10);
}
.swal2-html-container .ls-key-code::selection{ background:var(--ls-code-accent); color:#1e1e2e; }

.swal2-html-container .ls-key-copy{
  position:absolute; top:6px; right:6px; width:32px; height:32px;
  display:inline-grid; place-items:center;
  border-radius:8px; border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.06); color:#e5e7eb; cursor:pointer;
  transition:transform .15s, box-shadow .2s, background .2s, color .2s, border-color .2s, opacity .2s;
  box-shadow:0 2px 8px rgba(2,6,23,.35); opacity:.9;
}
.swal2-html-container .ls-key-copy:hover{
  background:rgba(99,102,241,.18); border-color:rgba(99,102,241,.35); color:#fff;
  transform:translateY(-1px); box-shadow:0 6px 16px rgba(2,6,23,.45);
}
.swal2-html-container .ls-key-copy:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(2,6,23,.35); }
.swal2-html-container .ls-key-copy:focus-visible{ outline:none; box-shadow:0 0 0 2px #fff, 0 0 0 4px var(--ls-ring); }
.swal2-html-container .ls-key-copy__icon{ display:block; }

/* Action buttons in modal */
.swal2-html-container .ls-key-actions{
  display:flex; flex-wrap:wrap; gap:10px; margin-top:15px; justify-content:center;
}
.swal2-html-container .ls-action-btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; font-weight:700; font-size:14px; line-height:1;
  text-decoration:none; cursor:pointer; border:1px solid transparent;
  transition:transform .15s, box-shadow .2s, filter .2s, background .2s, border-color .2s;
  box-shadow:0 2px 8px rgba(17,24,39,.06);
}
.swal2-html-container .ls-action-btn:focus-visible{ outline:none; box-shadow:0 0 0 2px #fff, 0 0 0 4px var(--ls-ring); }

/* Modal buttons: Download / Guide */
.swal2-html-container .ls-download-btn{
  background:linear-gradient(135deg, var(--ls-blue-600), var(--ls-blue-500));
  color:#fff; border-color:rgba(37,99,235,.10);
}
.swal2-html-container .ls-download-btn:hover{
  transform:translateY(-1px);
  box-shadow:0 6px 16px rgba(37,99,235,.35);
  filter:brightness(1.02);
}
.swal2-html-container .ls-download-btn:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(37,99,235,.25); }

.swal2-html-container .ls-guide-btn{
  background:linear-gradient(135deg, var(--ls-amber-500), var(--ls-amber-400));
  color:var(--ls-gray-900); border-color:rgba(245,158,11,.15);
}
.swal2-html-container .ls-guide-btn:hover{
  transform:translateY(-1px); box-shadow:0 6px 16px rgba(245,158,11,.30); filter:brightness(1.02);
}
.swal2-html-container .ls-guide-btn:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(245,158,11,.22); }

/* Mobile tweaks for modal */
@media (max-width:420px){
  .swal2-html-container .ls-keys-item{ grid-template-columns:1fr; }
  .swal2-html-container .ls-key-code{ font-size:12px; padding-right:40px; }
  .swal2-html-container .ls-key-copy{ width:28px; height:28px; top:5px; right:5px; }
  .swal2-html-container .ls-action-btn{ width:100%; justify-content:center; }
}

/* View Key toggle button */
.ls-toggle-license-btn{
  /* uses your palette variables (set earlier) */
  background: linear-gradient(135deg, var(--ls-emerald-600, #059669), var(--ls-emerald-500, #10b981));
  color: #fff;
  border: 1px solid rgba(16,185,129,.18);
  padding: 10px 40px 10px 38px; /* extra space for left key + right chevron */
  font-weight: 700;
  font-size: 14px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  gap: 10px; /* spacing if you put <span> inside */
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(16,185,129,.30);
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease, background .2s ease, border-color .2s ease, color .2s ease;
  position: relative; /* for icon pseudo-elements */
  text-decoration: none; /* if it’s an <a> */
}
.ls-toggle-license-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(16,185,129,.40);
  filter: brightness(1.02);
}
.ls-toggle-license-btn:active{
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(16,185,129,.25);
}
.ls-toggle-license-btn:focus-visible{
  outline: none;
  box-shadow: 0 0 0 2px #fff, 0 0 0 4px var(--ls-ring, rgba(99,102,241,.55));
}
.ls-toggle-license-btn:disabled{
  opacity: .65;
  cursor: not-allowed;
  box-shadow: none;
}


/* Open state via aria-expanded or .is-open */
.ls-toggle-license-btn[aria-expanded="true"],
.ls-toggle-license-btn.is-open{
  background: linear-gradient(135deg, #047857, var(--ls-emerald-600, #059669)); /* slightly deeper */
}
.ls-toggle-license-btn[aria-expanded="true"]::after,
.ls-toggle-license-btn.is-open::after{
  transform: translateY(-50%) rotate(180deg);
}

/* Optional loading state: add .is-loading */
.ls-toggle-license-btn.is-loading{
  pointer-events: none;
  filter: saturate(.9);
}
.ls-toggle-license-btn.is-loading::before{
  content: "";
  width: 14px; height: 14px;
  border: 2px solid rgba(255,255,255,.65);
  border-top-color: transparent;
  border-radius: 50%;
  position: absolute; left: 12px; top: 50%;
  transform: translateY(-50%);
  animation: ls-spin .8s linear infinite;
}
/* hide the chevron while loading (optional) */
.ls-toggle-license-btn.is-loading::after{ content: ""; }

@keyframes ls-spin{
  to{ transform: translateY(-50%) rotate(360deg); }
}

/* Make it full-width inside tight cells on mobile */
@media (max-width: 540px){
  .woocommerce-table.order_details td .ls-toggle-license-btn{
    width: 100%;
    justify-content: center;
  }
}



/* Get Key button */
.ls-view-license-btn{
  /* brand gradient (uses your vars if defined) */
  background: linear-gradient(135deg,
              var(--ls-brand, #4f46e5),
              var(--ls-brand-1, #6366f1));
  color: #fff;
  border: 1px solid rgba(79,70,229,.18);

  /* layout */
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px 10px 16px; /* space for left icon */
  font-weight: 700;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  text-decoration: none;

  /* motion & shadow */
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease,
              background .2s ease, border-color .2s ease, color .2s ease;
  box-shadow: 0 4px 12px rgba(99,102,241,.30);
}


/* hover/active */
.ls-view-license-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(99,102,241,.40);
  filter: brightness(1.03);
}
.ls-view-license-btn:active{
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(99,102,241,.25);
}

/* focus ring */
.ls-view-license-btn:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 2px #fff,
    0 0 0 4px var(--ls-ring, rgba(99,102,241,.55));
}

/* disabled */
.ls-view-license-btn:disabled{
  background: #a5b4fc;
  border-color: transparent;
  box-shadow: none;
  cursor: not-allowed;
  opacity: .85;
}

/* optional loading state: add .is-loading via JS while fetching */
.ls-view-license-btn.is-loading{
  pointer-events: none;
  filter: saturate(.9);
}
.ls-view-license-btn.is-loading::before{
  content: "";
  width: 14px; height: 14px;
  border: 2px solid rgba(255,255,255,.7);
  border-top-color: transparent;
  border-radius: 50%;
  position: absolute; left: 12px; top: 50%;
  transform: translateY(-50%);
  animation: ls-spin .8s linear infinite;
}

@keyframes ls-spin { to { transform: translateY(-50%) rotate(360deg); } }

/* make full-width in tight table cells on mobile */
@media (max-width: 540px){
  .woocommerce-table.order_details td .ls-view-license-btn{
    width: 100%;
    justify-content: center;
  }
}

.ls-status {
    display: inline-block;
    padding: 4px 10px;
    font-size: 12px;
    border-radius: 14px;
    font-weight: 600;
}

.ls-unmanaged {
    background: #f1f1f1;
    color: #666;
}



